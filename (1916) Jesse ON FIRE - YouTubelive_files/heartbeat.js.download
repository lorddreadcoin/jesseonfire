(function(g){var window=this;'use strict';var JwJ=function(Z,u){if(!Number.isFinite(Z))return String(Z);Z=String(Z);var G=Z.indexOf(".");G===-1&&(G=Z.length);var y=Z[0]==="-"?"-":"";y&&(Z=Z.substring(1));return y+(0,g.YjS)("0",Math.max(0,u-G))+Z},Bsa=function(Z){var u,G;
g.A(function(y){u=Z.player.J();G=Z.getVideoData();if(!Et(Z))return y.return();if(E8H(Z))return UEi(Z,u,G),y.Rl(0);pJH(Z);return g.S(y,HR4(Z,u,G),0)})},t5J=function(Z,u,G,y){var q=u&&u.videoId;
return q?(Z.player.CY(q,Object.assign({},{autonav:"1"},y||{}),void 0,!0,!0,u,g.zP(Z.getVideoData())),Z.zs("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",G),!0):!1},Ut=function(Z,u){g.hn.call(this,Z,{Z:"div",
Y:"ytp-reminder-menu",N:{role:"menu",tabindex:"-1"},L:[{Z:"div",Y:"ytp-reminder-menu-contents",L:[{Z:"div",Y:"ytp-reminder-menu-items"}]}]},100,!0);this.j=u;this.U=[];this.menuPopupRenderer=void 0;this.items=this.Di("ytp-reminder-menu-items");this.hide()},pX=function(Z){if(Z.toggleButtonRenderer){var u=Z.toggleButtonRenderer;
if(u.isToggled){var G=u.toggledText?g.Ah(u.toggledText):"";Z.update({text:G,icon:WAH(u.toggledIcon)})}else G=u.defaultText?g.Ah(u.defaultText):"",Z.update({text:G,icon:WAH(u.defaultIcon)});Z.show()}else Z.upcomingEventReminderButtonRenderer?(u=jIw(Z))?(G=u.text?g.Ah(u.text):"",Z.update({text:G,icon:WAH(u.icon)}),Z.show()):Z.hide():Z.hide()},jIw=function(Z){if(!Z.upcomingEventReminderButtonRenderer)return null;
var u=Z.U||Z.upcomingEventReminderButtonRenderer.currentState;Z=g.m(Z.upcomingEventReminderButtonRenderer.states||[]);for(var G=Z.next();!G.done;G=Z.next())if((G=g.C(G.value,ORe))&&G.state===u&&G.button&&g.C(G.button,g.rj))return g.C(G.button,g.rj);return null},HH=function(Z,u){u=u===void 0?!1:u;
Z=Z.getVideoData();return Z.S("html5_use_server_init_heartbeat_delay")?isNaN(Z.yz)?15E3:Z.yz:u?1E3:2E3},Awe=function(Z,u){return(Z=Number(Z==null?void 0:Z.pollDelayMs))?Z:(u=Number(u==null?void 0:u.pollDelayMs))?u:0},sId=function(Z,u,G,y,q){q===-1?(G="decode "+g.BT(y,3),BH(Z,!1,G)):q===2?(t8(Z),Z.G=!0):(Z.C=0,Z.U.stop(),q===1?(Z.G=!1,G&&G.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&Z.player.oA(!0),q="pe."+(G==null?void 0:G.errorCode)+";ps."+(G==null?void 0:G.status),Z.player.cA("heartbeat.stop",
2,Z.o_(y),q),g.Kl("heartbeatActionPlayerHalted",z8e(G)),(u==null?0:u.videoTransitionEndpoint)&&G&&(u=u.videoTransitionEndpoint,(y=g.C(u,g.hH))&&t5J(Z,y,G,{itct:u==null?void 0:u.clickTrackingParams}))):(Z.G=!0,y=0,Z.D&&G&&(y=LAP(Z,u,G),Z.player.publish("livestatedata",G)),y?WH(Z,y):WH(Z)))},jf=function(Z,u){var G=(0,g.MJ)();
this.trigger=Z;this.j=u;this.T=G},Ot=function(Z,u){Z.getDate()!=u&&Z.date.setUTCHours(Z.date.getUTCHours()+(Z.getDate()<u?1:-1))},v8P=function(Z){Z.toggleButtonRenderer?(Z.toggleButtonRenderer.isToggled=!Z.toggleButtonRenderer.isToggled,pX(Z)):Z.upcomingEventReminderButtonRenderer&&(Z.U=void 0,pX(Z))},SKv=function(Z,u,G){Z.D||(Z.D=new g.d2(Z.B.J().k7));
var y={context:g.UM(Z.D.config_||g.pv())};g.ZD()&&(y.context.clientScreenNonce=g.ZD());y.params=G;g.tn(Z.D,u,y,{timeout:5E3,onSuccess:function(){Z.upcomingEventReminderButtonRenderer&&Z.U&&(Z.upcomingEventReminderButtonRenderer.currentState=Z.U,Z.U=void 0)},
onError:function(){v8P(Z)},
onTimeout:function(){v8P(Z)}})},WAH=function(Z){if(!Z)return null;
switch(Z.iconType){case "NOTIFICATIONS":return R8v();case "NOTIFICATIONS_NONE":return C7d();case "NOTIFICATIONS_ACTIVE":return g.$N();default:return null}},E8H=function(Z){var u=Z.getVideoData();
if(!g.ZM(Z.getVideoData())||u.WD)return!1;if(u.G){Z=u.G.flavor==="playready"&&u.S("html5_innertube_heartbeats_for_playready");var G=u.G.flavor==="widevine"&&u.S("html5_innertube_heartbeats_for_widevine");u=g.kP(u.G)&&u.S("html5_innertube_heartbeats_for_fairplay");return!(Z||G||u)}return!0},LAP=function(Z,u,G){var y=G.liveStreamability&&G.liveStreamability.liveStreamabilityRenderer,q=!(!y||!(y.switchStreamsImmediately||y.transitionTiming&&y.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
u=Awe(u,y);var N=Z.getVideoData(),e=Z.player.getPlayerStateObject(Z.getPlayerType()),h=e.isPlaying()&&!g.To(N)&&!Z.player.isAtLiveHead(Z.getPlayerType());if(N.J().XZ()){var d,K=((d=Z.player.l4())==null?void 0:d.L8())||{};K.status=G.status||"";K.dvr=""+ +h;K["switch"]=""+ +q;K.ended=""+ +!(!y||!y.displayEndscreen);Z.player.ET("heartbeat",K)}d=y&&y.broadcastId;K=Z.j&&Z.j.liveStreamability&&Z.j.liveStreamability.liveStreamabilityRenderer&&Z.j.liveStreamability.liveStreamabilityRenderer.broadcastId;var f=
d!==K&&d!=null;f&&Z.player.ET("lbidh",{broadcastId:d},!0);var V=Z.player.S("always_cache_redirect_endpoint");if(h&&!q&&!V)return u;var X=y&&y.streamTransitionEndpoint&&g.C(y.streamTransitionEndpoint,g.hH),n=y&&y.transitionTiming;if(n==="STREAM_TRANSITION_TIMING_AT_STREAM_END")Z.getVideoData().transitionEndpointAtEndOfStream=X;else if(V&&!X&&Z.getVideoData().transitionEndpointAtEndOfStream)Z.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!V&&X&&t5J(Z,X,G))return u;if(h&&!q&&V||V&&X&&
(n==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||n==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&t5J(Z,X,G))return u;if(G.status.toUpperCase()==="OK"){if(!g.V3(N)||f){var l={video_id:N.videoId};N.M_&&(l.is_live_destination="1");l.disable_watch_next=!0;l.raw_watch_next_response=N.getWatchNextResponse();l.autonav_state=N.autonavState;l.oauth_token=N.oauthToken;l.uX=N.uX;N.X&&(l.vss_credentials_token=N.X,l.vss_credentials_token_type=N.P4);N.UT&&(l.vvt=N.UT);y=void 0;g.V3(N)?f&&(y=new jf("broadcastIdChanged",
K+","+d),Z.zs("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",G)):(d&&(y=new jf("formatsReceived",""+d)),Z.zs("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",G));f&&Z.player.ET("lbidr",{broadcastId:d});Z.player.loadVideoByPlayerVars(l,void 0,void 0,void 0,y);return u}Z.player.Jd("heartbeat",Z.getPlayerType())}y&&y.displayEndscreen&&(Z.offlineSlate?(Z=Z.offlineSlate,Z.X=!0,Z.U7&&Z.api.vJ()):e.isBuffering()&&
(N=((l=Z.player.l4())==null?void 0:l.L8())||{},Z.player.ET("hbse",N,!0),Z.player.vJ(!0,"h"),Z.player.pV("onLiveMediaEnded",G)));return u},pJH=function(Z){var u=Z.getVideoData();
if(u.wU)if(u.S("use_rta_for_player"))Z.attestationResponse=P7i(Z);else if(u=new g.cjF(u),g.Bg.isInitialized()||Z.sequenceNumber>=3){var G=Promise,y=G.resolve,q=null;if(u.videoData.fp){var N=g.DDS(u);if(N){q={};var e={};N=N.split("&");N=g.m(N);for(var h=N.next();!h.done;h=N.next())h=h.value.split("="),h.length===2&&(e[h[0]]=h[1]);e.r1a&&(q.webResponse=e.r1a);e.r1c&&(q.error=o8s[Number(e.r1c)]);q.challenge=u.videoData.fp}}Z.attestationResponse=y.call(G,q||void 0)}},QIi=function(Z){return(Z=Z.player.getCurrentTime(Z.getPlayerType()))&&
isFinite(Z)?""+Math.floor(Z*1E3):null},R8v=function(){return{Z:"svg",
N:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},L:[{Z:"path",N:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},C7d=function(){return{Z:"svg",
N:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},L:[{Z:"path",N:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},t8=function(Z){Z.C=0;
Z.U.stop();Z.G=!1;Z.sequenceNumber=0},FAi=function(Z){if(E8H(Z))return!!Z.heartbeatParams;
var u=Z.getVideoData();return!g.ZM(Z.getVideoData())||u.aF||u.O_?!!u.heartbeatToken:!1},UEi=function(Z,u,G){var y;
if((y=Z.heartbeatParams)!=null&&y.url){var q=g.ku(Z.heartbeatParams.url,{request_id:g.wUM()});G.UT&&(q=g.ku(q,{vvt:G.UT}),G.mdxEnvironment&&(q=g.ku(q,{mdx_environment:G.mdxEnvironment})));g.Ve(u,G.oauthToken).then(function(N){N&&(q=g.ku(q,{access_token:N}));cwP(Z,G,q)})}},aVd=function(Z){g.gC.call(this,Z);
var u=this;this.K=!1;this.C=0;this.G=!1;this.U=new g.fy(function(){Bsa(u)},0);
this.j=this.heartbeatParams=null;this.D=!1;this.X=new g.ux(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.Qn=new g.d2(void 0);this.attestationResponse=Promise.resolve(void 0);this.Fn=Promise.resolve(void 0);this.utcOffsetMinutes=-(new g8e).getTimezoneOffset();this.T=new g.Ch(this);g.M(this,this.U);g.M(this,this.T);pJH(this);wJs(this);this.T.V(Z,"heartbeatparams",this.Lc);this.T.V(Z,"presentingplayerstatechange",this.fu);this.T.V(Z,"videoplayerreset",this.ZP);this.T.V(Z,g.ir("heartbeat"),
this.onCueRangeEnter);this.D&&this.j&&LAP(this,void 0,this.j);var G=new g.BX(HH(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),y=new g.BX(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});Z.JP([G,y]);Tsa(this)},WH=function(Z,u){if(!Z.U.isActive()&&Z.K){var G=Z.getVideoData();
if(FAi(Z)||G.isLivePlayback){if(u===void 0)if(Z.G)if(Z.D)u=7500;else{var y;u=((y=Z.heartbeatParams)==null?0:y.interval)?Z.heartbeatParams.interval*1E3:Z.getVideoData().yz||6E4}else u=1E3;Z.U.start(u)}}},P7i=function(Z){var u,G;
return g.A(function(y){if(y.j==1)return g.S(y,g.p0R(),2);if(!y.U)return Z.sequenceNumber>=3?y.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):y.return(void 0);u=Z.getVideoData();G={};return y.return(g.a29((G.cpn=u.clientPlaybackNonce,G.encryptedVideoId=u.videoId||"",G),1500))})},bRi=function(Z){return(Z=Z.player.getProgressState(Z.getPlayerType()).ingestionTime)&&isFinite(Z)?""+Math.floor(Z*1E3):null},A8=function(Z){g.P.call(this,{Z:"div",
L:[{Z:"button",Il:["ytp-offline-slate-button","ytp-button"],L:[{Z:"div",Y:"ytp-offline-slate-button-icon",T6:"{{icon}}"},{Z:"div",Y:"ytp-offline-slate-button-text",T6:"{{text}}"}]}]});this.B=Z;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.U=void 0;this.D=this.j=null;(this.G=this.Di("ytp-offline-slate-button"))&&this.V(this.G,"click",this.X);this.hide()},IVi=function(Z,u,G){if(u){var y=u.subtitleText!=null?g.Ah(u.subtitleText):"";
G=G?G:u.mainText!=null?g.Ah(u.mainText):"";var q,N,e,h;u=(h=(q=u.mainText)==null?void 0:(N=q.accessibility)==null?void 0:(e=N.accessibilityData)==null?void 0:e.label)!=null?h:G;Z.update({mainText:G,subtitleText:y,label:u});g.Bv(Z.element,"ytp-offline-slate-single-text-line",!y);g.Bv(Z.T,"ytp-offline-slate-bar-hidden",!G&&!y)}},$Ea=function(Z){try{var u=JSON.parse(Z);
return u!=null?u:void 0}catch(G){}},rwv=function(Z,u,G){u=new Date(Z,u,G);
Z>=0&&Z<100&&u.setFullYear(u.getFullYear()-1900);return u},k$H=function(Z,u,G){!Z.toggleButtonRenderer&&u&&u.toggleButtonRenderer?Z.toggleButtonRenderer=u.toggleButtonRenderer:u&&u.toggleButtonRenderer||(Z.toggleButtonRenderer=null);
!Z.upcomingEventReminderButtonRenderer&&G&&g.C(G,iRP)?Z.upcomingEventReminderButtonRenderer=g.C(G,iRP):G&&g.C(G,iRP)||(Z.upcomingEventReminderButtonRenderer=null);pX(Z)},g8e=function(Z){typeof Z==="number"?(this.date=rwv(Z,0,1),Ot(this,1)):g.n$(Z)?(this.date=rwv(Z.getFullYear(),Z.getMonth(),Z.getDate()),Ot(this,Z.getDate())):(this.date=new Date(g.Jr()),Z=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),Ot(this,Z))},Et=function(Z){var u=
Z.getVideoData();
return Z.player.getPresentingPlayerType()===3||g.T(Z.player.getPlayerStateObject(Z.getPlayerType()),4)?!1:FAi(Z)||u.isLivePlayback?!0:(t8(Z),!1)},cwP=function(Z,u,G){u.ub&&(G=g.ku(G,{internalipoverride:u.ub}));
var y={cpn:u.clientPlaybackNonce};u.contextParams&&(y.context_params=u.contextParams);u.Hu&&(y.kpt=u.Hu);G=g.ku(G,y);g.Je(G,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(q){if(!Z.U.isActive()&&Et(Z)){Z.X.reset();Z.sequenceNumber++;q=q.responseText;var N=$Ea(q);if(N){Z.player.pV("onHeartbeat",N);var e=N.status==="ok"?N.stop_heartbeat?2:0:N.status==="stop"?1:N.status==="live_stream_offline"?0:-1}else e=(e=q.match(Zei))?e[1]==="0"?0:1:-1;sId(Z,void 0,N,q,e)}},
onError:function(q){Et(Z)&&BH(Z,!0,"net-"+q.status)},
onTimeout:function(){Et(Z)&&BH(Z,!0,"timeout")},
withCredentials:!0})},u$4=function(Z){g.P.call(this,{Z:"div",
Y:"ytp-offline-slate",L:[{Z:"div",Y:"ytp-offline-slate-background"},{Z:"div",Y:"ytp-offline-slate-bar",L:[{Z:"span",Y:"ytp-offline-slate-icon",L:[{Z:"svg",N:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},L:[{Z:"path",N:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{Z:"circle",N:{cx:"12",cy:"12",r:"3"}}]}]},{Z:"span",Y:"ytp-offline-slate-messages",L:[{Z:"div",Y:"ytp-offline-slate-main-text",N:{"aria-label":"{{label}}"},T6:"{{mainText}}"},{Z:"div",Y:"ytp-offline-slate-subtitle-text",T6:"{{subtitleText}}"}]},{Z:"span",Y:"ytp-offline-slate-buttons"}]},{Z:"button",Il:["ytp-offline-slate-close-button","ytp-button"],L:[g.l1()]},{Z:"button",Il:["ytp-offline-slate-open-button","ytp-button"],L:[g.c$()]}]});var u=this;this.api=Z;this.j=this.U=null;this.background=this.Di("ytp-offline-slate-background");
this.T=this.Di("ytp-offline-slate-bar");this.G=new g.fy(function(){g.AM(u.T,"ytp-offline-slate-bar-fade")},15E3);
this.X=!1;this.D=new g.fy(function(){g.AM(u.element,"ytp-offline-slate-collapsed")},15E3);
g.M(this,this.D);g.M(this,this.G);this.countdownTimer=new g.fy(this.BN,1E3,this);this.V(Z,"presentingplayerstatechange",this.XR);this.V(Z,"livestatedata",this.Vn);this.V(this.Di("ytp-offline-slate-close-button"),"click",function(){g.AM(u.element,"ytp-offline-slate-collapsed")});
this.V(this.Di("ytp-offline-slate-open-button"),"click",function(){g.w4(u.element,"ytp-offline-slate-collapsed")});
this.hide();Z=this.getVideoData();Z.getPlayerResponse()&&(Z=Z.getPlayerResponse().playabilityStatus)&&this.Vn(Z);Z=this.api.getPresentingPlayerType()===8&&!this.getVideoData().XD;var G=this.api.getPresentingPlayerType()===8;g.Bv(this.element,"ytp-offline-slate-premiere-trailer",Z);g.Bv(this.element,"ytp-offline-slate-hide-background",G)},z8e=function(Z){var u={enforcedPolicyToHaltOnNetworkFailure:!1};
Z&&(u.serializedServerContext=Z.additionalLoggingData);return u},GjR=function(Z){return(Z.menuPopupRenderer&&Z.menuPopupRenderer.items||[]).reduce(function(u,G){G&&G.menuServiceItemRenderer&&u.push(G.menuServiceItemRenderer);
return u},[])},HR4=function(Z,u,G){var y,q,N,e,h,d,K,f,V,X,n,l,Y,E,W,p,z,L,Q,b;
return g.A(function(w){if(w.j==1)return y="player/heartbeat",N={videoId:G.videoId,sequenceNumber:Z.sequenceNumber,heartbeatServerData:(q=Z.UT)!=null?q:G.heartbeatServerData},Z.Fn=Z.attestationResponse,G.wU?g.S(w,Z.Fn,3):w.Rl(2);w.j!=2&&(N.attestationResponse=w.U);e=g.x1(G);d=(h=e.client)!=null?h:{};d.utcOffsetMinutes=Z.utcOffsetMinutes;N.context=e;N.cpn=G.clientPlaybackNonce;if(K=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)d.timeZone=K;f={heartbeatChecks:[]};
if(V=G.getPlayerResponse())G.heartbeatToken&&(N.heartbeatToken=G.heartbeatToken),(X=V.playabilityStatus)&&(n=X.liveStreamability)&&n.liveStreamabilityRenderer&&f.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");G.heartbeatToken&&f.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.RH(u)&&(f.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),l=bRi(Z),Y={},l!==null&&(Y.clientPlayerPositionUtcMillis=l),W=(E=Z.player.gt())==null?void 0:g.V4(E),z=((p=W)==null?void 0:p.freePreviewWatchedDuration)||
0,z>0&&(Y.freePreviewWatchedDuration={seconds:""+z}),f.unpluggedParams=Y);N.heartbeatRequestParams=f;G.isLivePlayback?(L=bRi(Z),L!==null&&(N.playbackState||(N.playbackState={}),N.playbackState.playbackPosition={utcTimeMillis:L})):u.S("enable_heartbeat_vod_playback_position")&&(Q=QIi(Z),Q!==null&&(N.playbackState||(N.playbackState={}),N.playbackState.playbackPosition={streamTimeMillis:Q}));Z.player.publish("heartbeatRequest",N);b={timeout:3E4,onSuccess:function(yv){if(!Z.U.isActive()&&Et(Z)){var x9=
Z.getVideoData(),qS=x9.wU&&Z.Fn==null,K7;x9.wU=!((K7=yv.heartbeatAttestationConfig)==null||!K7.requiresAttestation)||qS;qS=yv.playabilityStatus;K7=JSON.stringify(qS)||"{}";yv.authenticationMismatch&&Z.player.ET("authshear",{});var GR=-1;var ED=yv.playabilityStatus;ED&&(Z.player.pV("onHeartbeat",ED),ED.status==="OK"?GR=yv.stopHeartbeat?2:0:ED.status==="UNPLAYABLE"?GR=1:ED.status==="LIVE_STREAM_OFFLINE"&&(GR=0));Z.sequenceNumber&&GR===-1||Z.X.reset();Z.sequenceNumber++;yv.heartbeatServerData&&(Z.UT=
yv.heartbeatServerData);x9.GA=yv;(ED=yv.playerCueRangeSet)&&g.fsD(x9,ED);yv.playerCueRanges&&yv.playerCueRanges.length>0&&(x9.cueRanges=yv.playerCueRanges);var oq,H;((oq=yv.progressBarConfig)==null?0:oq.progressBarStartPosition)&&((H=yv.progressBarConfig)==null?0:H.progressBarEndPosition)&&(x9.progressBarStartPosition=yv.progressBarConfig.progressBarStartPosition,x9.progressBarEndPosition=yv.progressBarConfig.progressBarEndPosition);x9.compositeLiveIngestionOffsetToken=yv.compositeLiveIngestionOffsetToken;
yv.compositeLiveStatusToken!==x9.compositeLiveStatusToken&&(x9.compositeLiveStatusToken=yv.compositeLiveStatusToken);x9.heartbeatLoggingToken=yv.heartbeatLoggingToken;x9.publish("dataupdated");sId(Z,yv,qS,K7,GR)}},
onError:function(yv){Et(Z)&&BH(Z,!0,"net-"+yv.status)},
onTimeout:function(){Et(Z)&&BH(Z,!0,"timeout")}};
g.Ve(u,g.zP(G)).then(function(yv){yv&&(b.WQ="Bearer "+yv);g.tn(Z.Qn,y,N,b)});
g.pA(w)})},BH=function(Z,u,G){if(!Z.U.isActive()){Z.U.stop();
Z.C++;var y=u?"heartbeat.net":"heartbeat.servererror";var q=Z.getVideoData();if(q.CU||u&&!g.ZM(Z.getVideoData())&&!FAi(Z)&&q.isLivePlayback)q=!1;else{var N,e;((e=Z.heartbeatParams)==null?0:e.retries)?N=Z.heartbeatParams.retries:N=q.PD||5;q=Z.C>=N}q?(g.Kl("heartbeatActionPlayerHalted",u?{enforcedPolicyToHaltOnNetworkFailure:!0}:z8e()),(u=Z.getVideoData())&&u.isLivePlayback?Z.player.cA(y,1,"Video playback interrupted. Please try again.",G):Z.player.cA(y,1,"Sorry, there was an error while licensing this video.",
G)):(WH(Z,Z.X.getValue()),g.VN(Z.X))}},wJs=function(Z){var u=Z.getVideoData(),G=Z.player.J();
if(u.isLivePlayback)if(g.Ne(G.G)){Z.D=!0;Z.K=!0;if(!g.xK(G)||g.RH(G))Z.offlineSlate=new u$4(Z.player),g.M(Z,Z.offlineSlate),g.l7(Z.player,Z.offlineSlate.element,4);(u=u.getPlayerResponse())&&u.playabilityStatus&&(Z.j=u.playabilityStatus);var y;((y=Z.j)==null?void 0:y.status)!=="UNPLAYABLE"&&(Z.j?(y=Awe(void 0,Z.j.liveStreamability&&Z.j.liveStreamability.liveStreamabilityRenderer))?WH(Z,y):WH(Z,7500):WH(Z,HH(Z,!0)))}else Z.player.cA("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.QN(u.Wz,"heartbeat")&&Z.player.Jd("heartbeat",Z.getPlayerType())},Tsa=function(Z){var u=Z.getVideoData();
!u.S("use_rta_for_player")&&u.wU&&(u=u.botguardData)&&g.RQ(u,Z.player.J())},yNe={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
yNe={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sept Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sept Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y",
"d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3};
var o8s=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],qWe={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.D=g8e.prototype;g.D.qL=yNe.FIRSTDAYOFWEEK;g.D.fO=yNe.FIRSTWEEKCUTOFFDAY;
g.D.clone=function(){var Z=new g8e(this.date);Z.qL=this.qL;Z.fO=this.fO;return Z};
g.D.getFullYear=function(){return this.date.getFullYear()};
g.D.getYear=function(){return this.getFullYear()};
g.D.getMonth=function(){return this.date.getMonth()};
g.D.getDate=function(){return this.date.getDate()};
g.D.getTime=function(){return this.date.getTime()};
g.D.getDay=function(){return this.date.getDay()};
g.D.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.D.getUTCMonth=function(){return this.date.getUTCMonth()};
g.D.getUTCDate=function(){return this.date.getUTCDate()};
g.D.getUTCDay=function(){return this.date.getDay()};
g.D.getUTCHours=function(){return this.date.getUTCHours()};
g.D.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.D.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.D.set=function(Z){this.date=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate())};
g.D.setFullYear=function(Z){this.date.setFullYear(Z)};
g.D.setYear=function(Z){this.setFullYear(Z)};
g.D.setMonth=function(Z){this.date.setMonth(Z)};
g.D.setDate=function(Z){this.date.setDate(Z)};
g.D.setTime=function(Z){this.date.setTime(Z)};
g.D.setUTCFullYear=function(Z){this.date.setUTCFullYear(Z)};
g.D.setUTCMonth=function(Z){this.date.setUTCMonth(Z)};
g.D.setUTCDate=function(Z){this.date.setUTCDate(Z)};
g.D.add=function(Z){if(Z.years||Z.months){var u=this.getMonth()+Z.months+Z.years*12,G=this.getYear()+Math.floor(u/12);u%=12;u<0&&(u+=12);a:{switch(u){case 1:var y=G%4!=0||G%100==0&&G%400!=0?28:29;break a;case 5:case 8:case 10:case 3:y=30;break a}y=31}y=Math.min(y,this.getDate());this.setDate(1);this.setFullYear(G);this.setMonth(u);this.setDate(y)}Z.days&&(G=this.getYear(),u=G>=0&&G<=99?-1900:0,Z=new Date((new Date(G,this.getMonth(),this.getDate(),12)).getTime()+Z.days*864E5),this.setDate(1),this.setFullYear(Z.getFullYear()+
u),this.setMonth(Z.getMonth()),this.setDate(Z.getDate()),Ot(this,Z.getDate()))};
g.D.equals=function(Z){return!(!Z||this.getYear()!=Z.getYear()||this.getMonth()!=Z.getMonth()||this.getDate()!=Z.getDate())};
g.D.toString=function(){var Z=this.getFullYear(),u=Z<0?"-":Z>=1E4?"+":"";return[u+JwJ(Math.abs(Z),u?6:4),JwJ(this.getMonth()+1,2),JwJ(this.getDate(),2)].join("")+""};
g.D.valueOf=function(){return this.date.valueOf()};var Nrk=new g.fq("addUpcomingEventReminderEndpoint");var ecw=new g.fq("removeUpcomingEventReminderEndpoint");var xid=new g.fq("updateUpcomingEventReminderButtonStateCommand");var iRP=new g.fq("upcomingEventReminderButtonRenderer"),ORe=new g.fq("upcomingEventReminderButtonStateRenderer");g.I(Ut,g.hn);
Ut.prototype.updateMenuItems=function(){var Z=this,u=GjR(this),G=0;G=0;for(var y={};G<u.length;y={rg:void 0},G++){var q=this.U[G];q||(q=new g.P({Z:"div",Y:"ytp-reminder-menu-item",N:{role:"menuitem",tabindex:"0"},L:[{Z:"div",Y:"ytp-reminder-menu-item-icon",T6:"{{icon}}"},{Z:"div",Y:"ytp-reminder-menu-item-label",T6:"{{text}}"}]}),y.rg=G,q.listen("click",function(e){return function(){var h=e.rg;Z.Gw();h=GjR(Z)[h];Z.publish("reminderMenuItemClicked",h.serviceEndpoint||h.command)}}(y)),q.gH(this.items),
this.U[G]=q);
var N=u[G];y=null;switch(N.icon&&N.icon.iconType){case "NOTIFICATIONS":y=R8v();break;case "NOTIFICATIONS_NONE":y=C7d();break;case "NOTIFICATIONS_ACTIVE":y=g.$N()}N=N.text?g.Ah(N.text):"";q.update({icon:y,text:N})}for(;G<this.U.length;)this.U.pop().dispose();G===0?this.Gw():this.Cn(this.j)};
Ut.prototype.hide=function(){this.j&&this.j.removeAttribute("aria-haspopup");g.hn.prototype.hide.call(this)};
Ut.prototype.show=function(){this.j&&this.j.setAttribute("aria-haspopup","true");g.hn.prototype.show.call(this)};
Ut.prototype.tT=function(){g.rT(this.U);g.hn.prototype.tT.call(this)};g.I(A8,g.P);
A8.prototype.X=function(){if(this.toggleButtonRenderer){var Z=this.toggleButtonRenderer;Z.isToggled?this.T(Z.toggledServiceEndpoint):this.T(Z.defaultServiceEndpoint);Z.isToggled=!Z.isToggled;pX(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.j&&this.j.U7)this.j.Gw();else{var u=jIw(this);u&&this.T(u.serviceEndpoint||u.command);u=((Z=g.C(u==null?void 0:u.command,g.au))==null?void 0:Z.commands)||[];a:{Z=g.m(u);for(var G=Z.next();!G.done;G=Z.next()){var y=u=void 0;if(G=(u=g.C(G.value,g.LJd))==
null?void 0:(y=u.popup)==null?void 0:y.menuPopupRenderer){Z=G;break a}}Z=void 0}this.j||(this.j=new Ut(this.B,this.G),this.j.gH(this.element),g.M(this,this.j),this.j.subscribe("reminderMenuItemClicked",this.T,this));u=this.j;u.menuPopupRenderer=Z;u.updateMenuItems()}};
A8.prototype.T=function(Z){var u=g.C(Z,Nrk),G=g.C(Z,ecw);if(Z&&(u||G)){if(u){var y=u;var q="notification/add_upcoming_event_reminder"}else G&&(y=G,q="notification/remove_upcoming_event_reminder");if(q&&y&&y.params)for(SKv(this,q,y.params),Z=g.m(y.commands||[]),u=Z.next();!u.done;u=Z.next())if((u=u.value)&&g.C(u,xid)){this.U=g.C(u,xid).state;pX(this);break}}};g.I(u$4,g.P);g.D=u$4.prototype;g.D.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.D.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.D.Vn=function(Z){var u,G,y=Z==null?void 0:(u=Z.liveStreamability)==null?void 0:(G=u.liveStreamabilityRenderer)==null?void 0:G.offlineSlate;if(y){this.U=Z;u=y.liveStreamOfflineSlateRenderer;u.canShowCountdown?this.BN():IVi(this,u);var q,N,e,h;if(G=Z==null?void 0:(q=Z.liveStreamability)==null?void 0:(N=q.liveStreamabilityRenderer)==null?void 0:(e=N.offlineSlate)==null?void 0:(h=e.liveStreamOfflineSlateRenderer)==null?void 0:h.thumbnail){q=0;N=null;e=G.thumbnails;for(h=0;h<e.length;h++)e[h].width>
q&&(q=e[h].width||0,N=e[h].url);N&&(this.background.style.backgroundImage="url("+N+")")}else this.background.style.backgroundImage="";u.actionButtons||u.reminderButton?(this.j||(this.j=new A8(this.api),this.j.gH(this.Di("ytp-offline-slate-buttons")),g.M(this,this.j)),k$H(this.j,u.actionButtons&&u.actionButtons[0],u.reminderButton)):this.j&&k$H(this.j,null,null);this.U=Z}else this.U=null;this.XR()};
g.D.XR=function(Z){if(this.api.getPresentingPlayerType()===8)var u=!0;else{var G=this.api.getPlayerStateObject(),y=this.getVideoData();u=y.isLivePlayback&&(G.isBuffering()||g.T(G,2)||g.T(G,64));var q=y.autonavState===2&&g.T(G,2);G=G.isPlaying()&&!g.To(y)&&!this.api.isAtLiveHead(void 0,!0);u=u&&!G&&!q}u&&this.U?this.U7?(Z==null?0:g.Il(Z,2))&&!this.getVideoData().XD&&(g.w4(this.element,"ytp-offline-slate-collapsed"),this.D.stop(),g.w4(this.T,"ytp-offline-slate-bar-fade"),this.G.start()):(this.show(),
this.D.start(),this.api.publish("offlineslatestatechange"),this.X&&this.api.vJ()):this.U7&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.D.BN=function(){var Z,u,G,y,q=(Z=this.U)==null?void 0:(u=Z.liveStreamability)==null?void 0:(G=u.liveStreamabilityRenderer)==null?void 0:(y=G.offlineSlate)==null?void 0:y.liveStreamOfflineSlateRenderer;q&&(Z=Math.floor(g.Jr()/1E3),u=q.canShowCountdown&&Number(q.scheduledStartTime),!u||u<=Z?(IVi(this,q),this.countdownTimer.stop()):(IVi(this,q,g.or(u-Z)),g.Rg(this.countdownTimer)))};
g.D.tT=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.P.prototype.tT.call(this)};jf.prototype.U=function(Z){return this.trigger&&Z.trigger?this.trigger===Z.trigger&&this.j===Z.j:!1};
jf.prototype.isExpired=function(){return(0,g.MJ)()-this.T>6E4};
jf.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.j};g.I(aVd,g.gC);g.D=aVd.prototype;g.D.tT=function(){t8(this);this.player.fK("heartbeat");g.gC.prototype.tT.call(this)};
g.D.onCueRangeEnter=function(){this.K=!0;WH(this,HH(this))};
g.D.Lc=function(Z){this.heartbeatParams=Z;WH(this,HH(this))};
g.D.fu=function(Z){var u;this.player.getPresentingPlayerType()!==8&&((u=this.j)==null?void 0:u.status)!=="UNPLAYABLE"&&(g.T(Z.state,2)||g.T(Z.state,64)?(t8(this),this.D&&(this.K=!0,WH(this,HH(this,!0)))):(g.T(Z.state,1)||g.T(Z.state,8))&&WH(this,HH(this)))};
g.D.ZP=function(){this.player.getPresentingPlayerType()!==3&&WH(this,HH(this))};
g.D.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.D.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.D.dI=function(Z){switch(Z){case 4:case 3:return!1}return!0};
g.D.zs=function(Z,u,G){Z={trigger:Z,reason:u};G&&(Z.serializedServerContext=G.additionalLoggingData);g.Kl("heartbeatActionPlayerTransitioned",Z)};
g.D.o_=function(Z){var u="LICENSE",G=$Ea(Z);if(G)return G.reason||g.Z2[u]||"";if(Z=Z.match(Zei))if(Z=Number(Z[1]))u=(u=qWe[Z.toString()])?u:"LICENSE";return g.Z2[u]||""};
g.D.S9=function(){return!!this.offlineSlate&&this.offlineSlate.U7};
var Zei=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.on("heartbeat",aVd);})(_yt_player);
